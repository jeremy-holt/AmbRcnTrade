<template>
  <require from="./../analysis-result-custom-element/analysis-result-custom-element"></require>

  <toolbar type="menu" caption="Stock" list-route="stockList" disabled-save.bind="!canSave" save.call="save()">
  </toolbar>

  <debug-console model.bind="model"></debug-console>

  <div class="row">
    <div class="col">
      <h4 class="${model.isStockIn ? '' : 'text-blue'}">
        Stock ${model.isStockIn ? "IN" : OUT} - Lot no ${model.lotNo}
      </h4>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <select-input source.bind="locations" value.bind="selectedLocation" label="Stock location"
        matcher.bind="listItemMatcher"></select-input>
    </div>
    <div class="col">
      <select-input source.bind="suppliers" value.bind="selectedSupplier" label="Supplier"
        matcher.bind="listItemMatcher"></select-input>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <date-input value.bind="model.stockInDate" label="Date IN"></date-input>
    </div>
    <div class="col">
      <date-input value.bind="model.stockOutDate" label="Date OUT"></date-input>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <text-input value.bind="model.origin" label="Origin / region of goods"></text-input>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <number-input value.bind="model.bags" label="Number bags"></number-input>
    </div>
    <div class="col">
      <number-input value.bind="model.weightKg" label="Weight (kg)"></number-input>
    </div>
  </div>

  <div repeat.for="item of model.inspections">
    <analysis-result model.bind="item.analysisResult" index="${index + 1}" inspection-id.bind="item.id" caption="${item.bags | numberFormat: '0,0'} bags inspected by ${item.inspector} on ${item.inspectionDate |
      dateFormat: 'DD/MM/YYYY' }"></analysis-result>
  </div>


</template>
